project(CArL-config-EP)
cmake_minimum_required(VERSION 3.3)

include(ExternalProject)
set_directory_properties(PROPERTIES EP_PREFIX ${TARGETDIR})

set(CMAKE_OPTIONS -DBOOST_INCLUDEDIR=${BOOST_INCLUDEDIR} -DUSE_BLISS=ON -DUSE_COCOA=ON -DEXPORT_TO_CMAKE=OFF)
if(USE_GINAC)
	set(CMAKE_OPTIONS "${CMAKE_OPTIONS} -DUSE_CLN=ON -DUSE_GINAC=ON")
endif()

ExternalProject_Add(
	CArL-EP-download
	SOURCE_DIR ${TARGETDIR}/src/CArL-EP
	BINARY_DIR ${TARGETDIR}/src/CArL-EP-build
	GIT_REPOSITORY https://github.com/ths-rwth/carl
	GIT_TAG ${CARL_REQUIRED_VERSION}
	CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=<INSTALL_DIR> -DCMAKE_PREFIX_PATH=<INSTALL_DIR> ${CMAKE_OPTIONS}
	BUILD_COMMAND ""
	INSTALL_COMMAND ""
)
